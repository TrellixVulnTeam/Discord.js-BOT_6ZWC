"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const logger_1 = require("@pnpm/logger");
async function default_1(opts) {
    const reporter = opts === null || opts === void 0 ? void 0 : opts.reporter;
    if (reporter) {
        logger_1.streamParser.on('data', reporter);
    }
    await opts.storeController.prune();
    await opts.storeController.saveState();
    await opts.storeController.close();
    if (reporter) {
        logger_1.streamParser.removeListener('data', reporter);
    }
}
exports.default = default_1;
//# sourceMappingURL=storePrune.js.map